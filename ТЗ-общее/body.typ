#import "data.typ": data

= ВВЕДЕНИЕ
== Наименование программы

Наименование программы -- "#data.project_name".\
Наименование программы на английском языке -- "#data.project_name_english".

== Краткая характеристика области применения программы

Программа "#data.project_name" представляет собой веб-приложение для автоматизации "ярмарки проектов" в НИУ ВШЭ: от загрузки исходных таблиц проектов и подачи инициативных тем до отбора участников и передачи данных в ЦППРП. Решение устраняет ручной перенос данных из громоздких таблиц, снижает ошибки и ускоряет коммуникацию между студентами, научными руководителями и администраторами.

= ОСНОВАНИЯ ДЛЯ РАЗРАБОТКИ
== Документ(ы), на основании которого(ых) ведется разработка

Разработка ведется на основании учебного плана подготовки бакалавров по направлению 09.03.04 "Программная инженерия" и утвержденной академическим руководителем программы темы курсового проекта.

== Наименование темы разработки

Наименование темы разработки -- "#data.project_name".\
Условное обозначение темы разработки -- "#data.project_name_english".\

= НАЗНАЧЕНИЕ РАЗРАБОТКИ
== Функциональное назначение

Программа "#data.project_name" предназначена для автоматизации полного цикла работы с проектами в учебных заведениях: загрузка проектов, рекомендации студентам, отбор заявок, сопровождение инициативных тем и экспорт данных для административных процессов.


== Эксплуатационное назначение

Программа предназначена для использования студентами, внутренними и внешними заказчиками проектов, а также сотрудниками ЦППРП. Эксплуатация осуществляется через веб-интерфейс, доступный из стандартных браузеров, без установки дополнительного ПО.

= ТРЕБОВАНИЯ К ПРОГРАММЕ
== Требования к функциональным характеристикам
=== Требования к составу выполняемых функций

Программа должна обеспечивать следующий минимальный состав функций:
1. Аутентификация и авторизация через SSO edu.hse.ru с разграничением ролей (студент, заказчик, представитель ЦППРП).
2. Импорт и парсинг проектов из Google Sheets или загруженных XLSX-файлов, нормализация данных, удаление дубликатов и привязка к образовательным программам и дедлайнам.
3. Для студентов:
   - Просмотр каталога проектов с фильтрами по курсу, ОП, технологиям, типу (командный/индивидуальный), статусу комплектования.
   - Семантический поиск и рекомендательная система по интересам, отмеченным пользователем.
   - Просмотр детальной карточки проекта (описание, контактная информация, количество заявок, утвержденные участники).
   - Подача заявок и отслеживание статусов, сохранение проектов в избранное.
4. Для внутренних и внешних заказчиков:
   - Создание и редактирование карточек проектов по шаблону, управление статусами и местами.
   - Просмотр, принятие и отклонение заявок студентов, коммуникация через указанные контакты.
5. Для представителей ЦППРП:
   - Модерация и утверждение проектов для ОП, управление дедлайнами и шаблонами документов.
   - Управление инициативными темами (подача, возврат на доработку с обоснованным комментарием ≥100 символов, публикация).
   - Экспорт данных (проекты, заявки, статусы) для отчетности и загрузки в LMS/ЕЛК.
6. Рекомендательная и поисковая функциональность:
   - Обновление индекса при изменении проектов или интересов студентов через очередь событий (`project_updated`, `student_interests_updated`).
   - Возможность потоковой выдачи ответа LLM (chunked) для объяснения рекомендаций.
7. Журналирование операций, ведение истории заявок, уведомления о ключевых событиях (изменение статуса, дедлайны).

=== Требования к организации входных данных

Входные данные клиентского приложения:
1. Учётные данные пользователей через SSO, JWT-токены для сессий.
2. Формы создания/редактирования проектов, заявок, интересов; прикрепляемые файлы (описания, брифы) в пределах регламентированных форматов (PDF/DOCX).
3. Параметры фильтрации и поиска, текстовые запросы для семантического поиска.

Входные данные серверного приложения:
1. Импортируемые таблицы проектов (Google Sheets, Yandex Sheets, XLSX), включая структуру курсов, ОП, тегов технологий.
2. Запросы клиентских приложений (REST/JSON) с валидацией схем и прав доступа.
3. События от очереди для обновления ML-индекса рекомендаций и поиска.

=== Требования к организации выходных данных

Выходные данные клиентского приложения:
1. Визуальное отображение каталогов проектов, карточек, статусов заявок, рекомендаций и результатов поиска.
2. Сообщения об ошибках валидации и доступе с понятными подсказками.

Выходные данные серверного приложения:
1. Ответы на запросы клиентского приложения в формате JSON, включая коды статусов HTTP и детализированные сообщения.
2. Логи операций (аутентификация, модерация, изменение статусов), агрегированные отчёты для ЦППРП, выгрузки данных в XLSX/CSV.

=== Требования к временным характеристикам

Временные характеристики клиентского приложения:
1. Время отклика интерфейса при фильтрации — не более 0.5 секунды.
2. Семантический поиск — не более 1 секунды до получения первого результата.
3. Ответ LLM при потоковой передаче — первые чанки не позднее 2 секунд, затем равномерная подача.

Временные характеристики серверного приложения:
1. Время обработки типовых запросов (получение каталога проектов, отправка заявки) — не более 1 секунды при номинальной нагрузке.
2. Пересчёт рекомендаций при обновлении данных — в асинхронном режиме, с актуализацией индекса в течение 5 минут после публикации изменений.

=== Требования к интерфейсу

Интерфейс должен быть минималистичным, адаптивным и интуитивно понятным, обеспечивать доступ к основным функциям для каждой роли. Поля ввода сопровождаются подсказками и встроенной валидацией. В интерфейсе проектов и заявок отображаются статусы, дедлайны, счетчики поданных/утвержденных заявок и контактная информация. Для LLM-ответов и долгих операций предусмотрены индикаторы прогресса.

== Требования к надежности

1. Обработка входных данных с валидацией и защитой от некорректных значений; возврат детализированных ошибок без падения сервера.
2. Репликация базы данных (не менее k=3), регулярные резервные копии и контроль восстановлений.
3. Мониторинг ключевых сервисов (API, очередь, ML-сервис), алерты при деградации и автоматический перезапуск контейнеров.
4. Логирование всех критичных операций (аутентификация, изменение статусов) с возможностью аудита.

== Условия эксплуатации
=== Климатические условия эксплуатации

Использование в стандартных офисных условиях, при стабильном доступе в интернет и штатных характеристиках серверных помещений НИУ ВШЭ. Не требуется специальное климатическое обслуживание.

=== Требования к видам обслуживания

В случае сбоя пользователь обращается через раздел помощи или GitHub Issues, предоставляя описание и скриншоты. Техническое обслуживание включает мониторинг, обновления контейнеров, проверку бэкапов и устранение уязвимостей зависимостей.

=== Требования к численности и квалификации персонала

Для эксплуатации программы требуется базовое знание работы с веб-приложениями и интернет-браузерами. Представителям ЦППРП необходимы навыки работы с административным интерфейсом и выгрузками данных. Специальная техническая подготовка не требуется.

== Требования к составу и параметрам технических средств
=== Программные средства

Для серверной части:
1. Backend на Python (FastAPI) в формате модульного монолита.
2. PostgreSQL с организацией схем по доменам (`users`, `projects`, `applications`, `cpprp`, `ml`).
3. Очередь сообщений (RabbitMQ/Redis Streams) для уведомления ML-сервиса об изменениях данных.
4. ML/LLM-сервис для семантического поиска и рекомендаций (локальная LLM Qwen-14b или облачная YandexGPT-5), индекс на FAISS/pgvector.
5. Контейнеризация в Docker/Docker Compose, CI/CD через GitHub Actions.

Для клиентской части:
1. Веб-клиент (SPA) в современных браузерах (Chrome, Firefox, Safari, Edge).
2. Использование стандартных API браузера без установки расширений.

=== Технические средства

1. Сервер приложений: не менее 4 vCPU, 8 ГБ RAM для номинальной нагрузки (~1700 студентов в пиковый период), SSD-накопитель от 100 ГБ.
2. Сервер БД: не менее 4 vCPU, 16 ГБ RAM, отдельный SSD-том, резервное копирование на внешний носитель/облако.
3. ML-сервис: GPU/CPU в зависимости от выбранной модели; при использовании облачной YandexGPT-5 требования к железу снижаются до CPU и достаточного объема RAM (8–16 ГБ) для индекса.
4. Сетевые требования: доступ к SSO edu.hse.ru, сервисам Sheets и LMS/ЕЛК через защищенные каналы.

== Требования к информационной и программной совместимости

=== Требования к информационным структурам и методам решения

Данные разделены по доменным схемам в PostgreSQL, взаимодействие между модулями осуществляется через внутренние API без прямых межсхемных JOIN. События `project_updated` и `student_interests_updated` публикуются в очередь и обрабатываются ML-сервисом с последующей синхронизацией индекса. Доступ к системе осуществляется по HTTPS с использованием REST/JSON. Сервис интеграций обеспечивает импорт данных из Sheets/XLSX и экспорт в LMS/ЕЛК при необходимости.

#figure(
    table(
        columns: (1cm, 4cm, 10cm),
        align: horizon,
        table.header([*Код*], [*Статус*], [*Описание сценария*]),
        
        [200], [OK], [Успешная обработка синхронного запроса],
        [201], [Created], [Успешное создание ресурса],
        [400], [Bad Request], [Ошибка валидации входных данных],
        [401], [Unauthorized], [Отсутствует или истек срок действия JWT токена],
        [403], [Forbidden], [Недостаточно прав для операции],
        [404], [Not Found], [Запрашиваемый ресурс не найден],
        [422], [Unprocessable Entity], [Логическая ошибка обработки],
        [500], [Internal Server Error], [Внутренняя ошибка сервера],
    )
)

=== Требования к программным средствам, используемым программой

1. Интеграция с SSO edu.hse.ru для аутентификации.
2. Доступ к Google/Yandex Sheets API или загрузке XLSX-файлов для импорта проектов.
3. Возможность работы с LMS/ЕЛК для экспорта данных (через API или файловые выгрузки).
4. Использование очереди сообщений и ML-сервиса, совместимых с выбранным стеком (Python, PostgreSQL).

=== Требования к исходным кодам и языкам программирования

Фронтенд: JavaScript/TypeScript, веб-фреймворк для SPA, поддержка адаптивной верстки.\
Бэкенд: Python 3.11+, FastAPI, библиотеки для работы с PostgreSQL, очередями и интеграциями с внешними сервисами.\
ML-сервис: Python, библиотеки для работы с LLM и векторными индексами (FAISS/pgvector).\
Контейнеризация: Docker, Docker Compose.\
Контроль версий: Git, GitHub.

=== Требования к защите информации и программы

Программа распространяется в виде:
1. Веб-приложение, доступное через интернет-браузер.
2. Серверная часть, размещенная на облачном сервере с использованием защищенных протоколов связи (HTTPS).

Необходимо обеспечить:
1. Шифрование каналов связи (HTTPS), защита персональных данных студентов и заказчиков.
2. Использование JWT с ограниченным сроком действия, хранение паролей/секретов вне кода (переменные окружения, vault).
3. Разграничение прав доступа по ролям, журналирование критичных действий, аудит изменений.
4. Регулярное обновление зависимостей, статический анализ и тесты безопасности.

== Требования к маркировке и упаковке

1. Исходные коды хранятся в GitHub-репозитории с доступом по SSH-ключам, версии релизов помечаются тегами.
2. Docker-образы маркируются по версии релиза и сохраняются в приватном реестре (при наличии).


== Требования к транспортированию и хранению

Программное изделие может храниться и транспортироваться на флешносителе и в облачном хранилище.

== Специальные требования

Специальные требования к программному изделию отсутствуют. При внедрении необходимо соблюдать внутренние регламенты НИУ ВШЭ по защите персональных данных и эксплуатации облачных сервисов.

= ТРЕБОВАНИЯ К ПРОГРАММНОЙ ДОКУМЕНТАЦИИ
== Состав программной документации

1. "#data.project_name". Техническое задание (ГОСТ 19.201-78 [7]).
2. "#data.project_name". Пояснительная записка (ГОСТ 19.404-79 [10]).
3. "#data.project_name". Программа и методика испытаний (ГОСТ 19.301-79 [8]).
4. "#data.project_name". Текст программы (ГОСТ 19.401-78 [9]).
5. "#data.project_name". Руководство оператора (ГОСТ 19.505-79 [11]).

== Специальные требования к программной документации

1. Документы к программе должны быть выполнены в соответствии с ГОСТ 19.106-78[6] и ГОСТами к каждому виду документа (см. пункт 5.1.).
2. Пояснительная записка должна быть загружена в систему Антиплагиат через LMS «НИУ ВШЭ». Лист, подтверждающий загрузку пояснительной записки, сдается в учебный офис вместе со всеми материалами не позже, чем за день до защиты курсовой работы.
3. Вся документация также воспроизводится в печатном виде, она должна быть подписана академическим руководителем образовательной программы 09.03.04 «Программная инженерия», руководителем разработки и исполнителями перед сдачей курсовой работы в учебный офис, не позже одного дня до защиты.
4. Документация также сдается в электронном виде в формате .pdf, а программа – в архиве формата .zip.
5. Все документы перед защитой курсовой работы должны быть загружены в информаци- онно-образовательную среду НИУ ВШЭ LMS (Learning Management System) в личном кабинете, дисциплина – «Курсовой проект, ПИ 3 курс 25-26 уч. г.», одним архивом.

= ТЕХНИКО-ЭКОНОМИЧЕСКИЕ ПОКАЗАТЕЛИ
== Предполагаемая потребность

Пиковая потребность приходится на осенний набор проектов. Ожидается участие порядка 1700 студентов (2–4 курсы ФКН) и ~1600 проектов различных типов, что определяет требования к масштабированию и надежности. Система также востребована представителями ЦППРП и внутренними/внешними заказчиками.

== Целевая аудитория

1. Студенты НИУ ВШЭ, участвующие в проектной деятельности.
2. Преподаватели и внешние организации, выступающие в роли заказчиков проектов.
3. Представители ЦППРП.
4. Научные руководители инициативных проектов.

== Экономическая эффективность

1. Снижение трудозатрат ЦППРП на прием и обработку заявок за счет исключения ручного переноса данных (ожидаемое сокращение времени обработки пакета проектов на n%).

2. Снижение количества ошибок и дубликатов благодаря автоматическому импорту и валидации (сокращение трудозатрат на исправления до m%).

3. Ускорение подбора проектов студентами за счет фильтрации, семантического поиска и рекомендаций (время поиска уменьшается в k раз относительно ручного просмотра таблиц).

4. Масштабируемость без пропорционального роста операционных затрат благодаря контейнеризации и разделению модулей (backend/ML/очередь/БД).


== Преимущества перед аналогами

1. По сравнению с "#data.analogue_1" и "#data.analogue_2" система предоставляет единую точку входа с автоматическим импортом исходных таблиц, дедлайнами по ОП и экспортом данных в LMS/ЕЛК.
2. В отличие от "#data.analogue_3" (ручные Excel и формы) исключается повторный ввод данных, снижается количество ошибок и ускоряется обработка заявок.
3. Наличие семантического поиска и рекомендаций по интересам повышает релевантность подбора проектов и снижает нагрузку на администраторов.

// Пример таблицы сравнения можно добавить при необходимости

#let column_names = (
    [#data.analogue_1],
    [#data.analogue_2],
    [#data.analogue_3],
    [#data.project_name],
)

#let plus = table.cell(
  fill: green.lighten(60%),
)[+]

#let minus = table.cell(
  fill: red.lighten(60%),
)[-]

#figure(
    caption: [Сравнение функциональных характеристик аналогов],
    table(
        columns: (5cm,) + (auto,) * column_names.len(),
        rows: (2cm, 1.5cm),
        align: center + top,
        table.header(
            [Функции],
            ..column_names.map(col => rotate(0deg, reflow: true, col))
        ),

        [Импорт таблиц (Google/Yandex Sheets, XLSX)],   minus,  minus,  minus, plus,
        [Семантический поиск и LLM-рекомендации],       minus,  minus,  minus, plus,
        [Модерация проектов и дедлайны по ОП],          plus,   plus,   minus, plus,
        [Подача и отслеживание заявок студентов],       plus,   plus,   minus, plus,
        [Экспорт в LMS/ЕЛК и отчёты],                   minus,  plus,   minus, plus,

        [*Итого*], [*2*], [*3*], [*0*], [*5*],
    )
)


= СТАДИИ И ЭТАПЫ РАЗРАБОТКИ
== Стадии разработки, этапы и содержание работ

Стадии и этапы разработки определены с учетом ГОСТ 19.102-77 [2] и ограничений проекта (15 недель, январь–март 2026 г.).

#let column_names = (
    [*Стадия разработки*],
    [*Этап/минимум*],
    [*Содержание работ*],
    [*Сроки выполнения*],
)

Таблица 2 -- Стадии и этапы разработки

#figure(
    table(
        columns: (auto, auto, 9cm, auto),
        rows: (15mm, auto),
        
        align: center + top,
        table.header(..column_names),

        [Техническое задание], [Утверждение требований], [Сбор исходных данных (курсы, ОП, роли), детализация функций, согласование архитектурного решения (модульный монолит на FastAPI, PostgreSQL, очередь, ML-сервис)], [до 10.01.2026],
        [НИР], [Анализ данных], [Проработка структуры входных таблиц, схем БД (schema-per-module), критериев рекомендаций и семантического поиска], [до 20.01.2026],
        [Разработка], [Минимум 1], [Импорт/парсинг Google/Yandex Sheets и XLSX, базовая фильтрация и семантический поиск, публикация каталога проектов], [Январь 2026],
        [Разработка], [Минимум 2-3], [Клиент студента (избранное, интересы, рекомендации), клиент заказчика (CRUD проектов, модерация), клиент ЦППРП (утверждение проектов, дедлайны), подача и обработка заявок, экспорт данных], [Февраль 2026],
        [Разработка], [Минимум 4], [Инициативные темы с включением научного руководителя, расширенные отчеты, доработка UX и защиты], [Март 2026],
        [Тестирование и приемка], [ПМИ], [Функциональные и интеграционные испытания, нагрузочное тестирование поиска/рекомендаций, исправление замечаний, подготовка релиза], [до 31.03.2026],
    )
)


== Сроки разработки и исполнители

Плановая длительность — 15 недель (январь–март 2026). Команда: MLops+backend (инфраструктура, очереди, БД), ML/models (рекомендации, поиск), data scrapper/prepare (импорт таблиц, очистка данных), frontend (веб-клиент). При необходимости члены команды помогают друг другу для соблюдения сроков.


= ПОРЯДОК КОНТРОЛЯ И ПРИЕМКИ

Контроль и приемка разработки осуществляются в соответствии с документом "Программа и методика испытаний" (ГОСТ 19.301–79 [8]).

== Виды испытаний

1. Модульные и интеграционные тесты backend и ML-сервиса (API, очередь, обновление индекса).
2. Тесты UI: сценарии студентов, заказчиков, ЦППРП (создание проекта, подача заявки, модерация).
3. Нагрузочные испытания поиска/фильтрации и рекомендаций в пиковый период.
4. Тесты безопасности (права доступа, SSO, защита персональных данных).

== Общие требования к приемке работы

1. Выполнение функциональных и нефункциональных требований настоящего ТЗ.
2. Отсутствие критических дефектов, подтвержденное результатами ПМИ.
3. Наличие актуальной программной документации и конфигураций для развертывания.
4. Приемка заказчиком/ЦППРП по утвержденным сценариям и акту приемки.


#set heading(numbering: none)
= СПИСОК ИСПОЛЬЗУЕМОЙ ЛИТЕРАТУРЫ

1. ГОСТ 19.101-77: Виды программ и программных документов. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
2. ГОСТ 19.102-77: Стадии разработки. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
3. ГОСТ 19.103-77: Обозначения программ и программных документов. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
4. ГОСТ 19.104-78: Основные надписи. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
5. ГОСТ 19.105-78: Общие требования к программным документам. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
6. ГОСТ 19.106-78: Требования к программным документам, выполненным печатным способом. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
7. ГОСТ 19.201-78: Техническое задание. Требования к содержанию и оформлению. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
8. ГОСТ 19.301-79: Программа и методика испытаний. Требования к содержанию и оформлению. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
9. ГОСТ 19.401-78: Текст программы. Требования к содержанию и оформлению. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
10. ГОСТ 19.404-79: Пояснительная записка. Требования к содержанию и оформлению. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
11. ГОСТ 19.505-79: Руководство оператора. Требования к содержанию и оформлению. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
12. ГОСТ 19.603-78: Общие правила внесения изменений. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
13. ГОСТ 19.604-78: Правила внесения изменений в программные документы, выполненные печатным способом. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
